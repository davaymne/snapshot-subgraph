"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.nodeFetch = void 0;
const assert_1 = __importDefault(require("assert"));
const esm_1 = require("../esm");
let mod;
exports.nodeFetch = {
    async load() {
        if (mod)
            return mod;
        return mod = await (0, esm_1.esm)('node-fetch');
    },
    get Headers() {
        (0, assert_1.default)(mod, 'node-fetch ESM is not loaded');
        return mod.Headers;
    },
    get FetchError() {
        (0, assert_1.default)(mod, 'node-fetch ESM is not loaded');
        return mod.FetchError;
    },
    get isLoaded() {
        return !!mod;
    },
    async request(url, init) {
        let m = await exports.nodeFetch.load();
        return m.default(url, init);
    }
};
//# sourceMappingURL=request.js.map